{"question_id":"3886","lang":"c","data_input":false,"typed_code":"#define D 100000000\n#define N 1000000007\nint countTrapezoids(int** points, int pointsSize, int* pointsColSize) {\n  long long sum = 0,sum_sq = 0,ans = 0;\n  int cnt = 0;\n  int* y_value = (int*)calloc(pointsSize,sizeof(int));\n  int* hash = (int*)calloc(2 * D + 1,sizeof(int));\n  for(int i = 0;i < pointsSize;i++){\n    hash[points[i][1] + D]++;\n    if(hash[points[i][1] + D] == 1){\n      y_value[cnt] = points[i][1];\n      cnt++;\n    }\n  }\n  for(int i = 0;i < cnt;i++){\n    int y = y_value[i];\n    long long n = hash[y + D];\n    if(n < 2) continue;\n    long long s = n * (n - 1) / 2;\n    sum += s;\n    sum_sq += s * s;\n  }\n  ans = (sum * sum - sum_sq) / 2;\n  ans = ans % N;\n  free(y_value);\n  free(hash);\n  return ans;\n}"}